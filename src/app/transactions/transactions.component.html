<div class="m-5">
    <div class="flex items-center">
        <span class="text-blue-600 hover:underline ml-2 cursor-pointer" routerLink="/dashboard">
            < Back</span>
    </div>
    <div class="flex justify-between items-center">
        <span class="text-xl font-bold text-gray-800">Transactions Listing</span>
        <div>
            <mat-form-field appearance="standard" class="mr-2">
                <mat-label>Search</mat-label>
                <input matInput (keyup)="applyFilter($event)" placeholder="Ex. 1000" #input>
            </mat-form-field>
            <button mat-raised-button color="primary" class="px-6 py-2 rounded-lg" (click)="addTransaction()">
                Add New Transaction
            </button>
        </div>

    </div>

    <div class="overflow-x-auto bg-white rounded-xl shadow-md border border-gray-200 mt-2">
        <mat-progress-bar mode="indeterminate" *ngIf="isLoading"></mat-progress-bar>

        <table mat-table [dataSource]="dataSource" class="min-w-full">


            <ng-container matColumnDef="date">
                <th mat-header-cell *matHeaderCellDef class="text-gray-600 font-semibold py-3 pl-3">
                    Date
                </th>
                <td mat-cell *matCellDef="let t" class="py-3 pl-3">
                    {{ t.date }}
                </td>
            </ng-container>

            <ng-container matColumnDef="type">
                <th mat-header-cell *matHeaderCellDef class="text-gray-600 font-semibold py-3 pl-3">
                    Type
                </th>
                <td mat-cell *matCellDef="let t" class="py-3 font-medium"
                    [ngClass]="t.type === 'Credit' ? 'text-green-600' : 'text-red-600'">
                    {{ t.type }}
                </td>
            </ng-container>

            <ng-container matColumnDef="amount">
                <th mat-header-cell *matHeaderCellDef class="text-gray-600 font-semibold py-3 pl-3">
                    Amount
                </th>
                <td mat-cell *matCellDef="let t" class="py-3 pl-3">
                    â‚¹{{ t.amount }}
                </td>
            </ng-container>

            <ng-container matColumnDef="description">
                <th mat-header-cell *matHeaderCellDef class="text-gray-600 font-semibold py-3 pl-3">
                    Description
                </th>
                <td mat-cell *matCellDef="let t" class="py-3 pl-3">
                    {{ t.description }}
                </td>
            </ng-container>

            <ng-container matColumnDef="status">
                <th mat-header-cell *matHeaderCellDef class="text-gray-600 font-semibold py-3 pl-3">
                    Status
                </th>
                <td mat-cell *matCellDef="let t" class="py-3 pl-3">
                    <span class="px-3 py-1 text-white rounded-full text-sm" [ngClass]="{
            'bg-yellow-500': t.status === 'Pending',
            'bg-green-600': t.status === 'Success',
            'bg-red-600': t.status === 'Failed'
          }">
                        {{ t.status }}
                    </span>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="hover:bg-gray-50"></tr>

            <tr class="mat-row" *matNoDataRow>
                <td class="mat-cell" colspan="5">No records found</td>
            </tr>
        </table>

        <mat-paginator [pageSizeOptions]="[10, 25, 50, 100]" showFirstLastButtons></mat-paginator>
    </div>
</div>